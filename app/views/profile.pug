html
   head
      title Profile Page
   body
      h3 Profile

      div
      | Welcome,
      | #{username}
      br
      |
      br
      if(type == "manager")
        | Do you want to add new user? #{' '}
        a(class='button', href='/addUser') Add User
        br
        |
        br
        if(type == "addProjectValidationError")
          ul
          - for (var i = 0; i < err.length; i++) {
          li #{err[i].msg}
          - }
        | Do you want to add a new Project?
        br
        form(action = "/addProjects" method = "POST")
          | Project Details:
          br
          input(name = "title" type = "text" required placeholder= "Project title")
          | #{' '}
          input(name = "description" type = "text" required placeholder= "Description")
          | #{' '}
          input(name = "beginningDate" type = "text" required placeholder= "Beginning Date")
          //- mixin chooseDate(options)
          //-   +b.choose-date
          //-     +e.datepicker
          //-       input(type='text' placeholder='Pick a date')
          //-       +fontIcon({ name: 'calendar' })
          | #{' '}
          input(name = "dueDate" type = "text" required placeholder= "Due Date")
          | #{' '}
          input(name = "developer" type = "text" required placeholder= "Developer")
          br
          | Add Project: #{' '}
          button(type = "Submit") Add
          br
        if(type == "addDeveloperValidationError")
          ul
          - for (var i = 0; i < err.length; i++) {
          li #{err[i].msg}
          - }
        | Want to add developer to a project?
        br
        form(action = '/addProjectdeveloper' method = 'POST')
          | Project Name: 
          input(name = "title" type = "text" required placeholder= "Project Title")
          | #{' '}
          input(name = "developer" type = "text" required placeholder= "Developer")
          | #{' '}
          button(type = "Submit") Add
          br
        if(type == "editDescriptionValidationError")
          ul
          - for (var i = 0; i < err.length; i++) {
          li #{err[i].msg}
          - }
        | Want to edit discription of a project?
        br
        form(action = '/editProjectDescription' method = 'POST')
          | Project Name: 
          input(name = "title" type = "text" required placeholder= "Project Title")
          | #{' '}
          input(name = "description" type = "text" required placeholder= "New Description")
          | #{' '}
          button(type = "Submit") Edit
          br
        if(type == "editBeginningValidationError")
          ul
          - for (var i = 0; i < err.length; i++) {
          li #{err[i].msg}
          - }
        | Want to change the beginning date of a project?
        br
        form(action = '/editProjectBeginningDate' method = 'POST')
          | Project Name: 
          input(name = "title" type = "text" required placeholder= "Project Title")
          | #{' '}
          input(name = "beginningDate" type = "text" required placeholder= "New Beginning Date")
          | #{' '}
          button(type = "Submit") Change
          br
        if(type == "editDueValidationError")
          ul
          - for (var i = 0; i < err.length; i++) {
          li #{err[i].msg}
          - }
        | Want to change the due date of a project?
        br
        form(action = '/editProjectDueDate' method = 'POST')
          | Project Name: 
          input(name = "title" type = "text" required placeholder= "Project Title")
          | #{' '}
          input(name = "dueDate" type = "text" required placeholder= "New Due Date")
          | #{' '}
          button(type = "Submit") Change
          br
        if(type == "removeProjectValidationError")
          ul
          - for (var i = 0; i < err.length; i++) {
          li #{err[i].msg}
          - }
        | Want to remove a project?
        br
        form(action = '/removeProject' method = 'POST')
          | Project Name: 
          input(name = "title" type = "text" required placeholder= "Project Title")
          | #{' '}
          button(type = "Submit") Remove
          br
      | Projects assigned to you:
      br
      table
        tr
          if(result[0])
            th Project Title
            th Description
            th Beginning date
            th Due date
        each val in result
          tr
            td #{val.title} 
            td #{val.description} 
            td #{val.beginningDate.toLocaleDateString()} 
            td #{val.dueDate.toLocaleDateString()} 
        else
          | There are no projects assigned to you yet
      br
      | Do you want to logout?
      form(action = "/logout", method = "GET")
         button(type = "Submit") Logout
